<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Recipies</title>
    <style>
      body { font-family: Arial, sans-serif; max-width: 800px; margin: 2rem auto; }
      h1 { color: #333 }
      .recipe { border: 1px solid #ddd; padding: 1rem; margin-bottom: 1rem }
      textarea { width: 100%; height: 6rem }
    </style>
  </head>
  <body>
    <h1>Recipies</h1>
    <section>
      {% for r in recipes %}
      <div class="recipe">
        <h2>{{ r.name }}</h2>
        <h4>Ingredients</h4>
        <ul>
          {% for i in r.ingredients %}
          <li>{{ i }}</li>
          {% endfor %}
        </ul>
        <h4>Steps</h4>
        <ol>
          {% for s in r.steps %}
          <li>{{ s }}</li>
          {% endfor %}
        </ol>
      </div>
      {% endfor %}
    </section>

    {% if pages and pages > 1 %}
    <nav aria-label="pagination">
      <p>Page {{ page }} of {{ pages }}</p>
      <div>
        {% if page > 1 %}
        <a href="/?page={{ page-1 }}">Previous</a>
        {% endif %}
        {% for p in range(1, pages+1) %}
          {% if p == page %}
            <strong>{{ p }}</strong>
          {% else %}
            <a href="/?page={{ p }}">{{ p }}</a>
          {% endif %}
        {% endfor %}
        {% if page < pages %}
        <a href="/?page={{ page+1 }}">Next</a>
        {% endif %}
      </div>
    </nav>
    {% endif %}

    <section>
      <h2>Add Recipe</h2>
      <form method="post" action="/recipes">
        <label>Name<br /><input name="name" required /></label><br /><br />
        <label>Ingredients (one per line)<br /><textarea name="ingredients"></textarea></label><br /><br />
        <label>Steps (one per line)<br /><textarea name="steps"></textarea></label><br /><br />
        <button type="submit">Add</button>
      </form>
    </section>
  </body>
  </html>
